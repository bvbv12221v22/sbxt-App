<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.min.css" rel="stylesheet" />
	</head>
	<header class="mui-bar mui-bar-nav">
		<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		<h1 class="mui-title">添加此次采样项</h1>
	</header>
	<div class="mui-content">
		<div class="mui-input-row mui-checkbox">
			<label>植株高度(cm)</label>
			<input id="var1" name="checkbox" class="variety" value="植株高度" type="checkbox" >
		</div>
		<div class="mui-input-row mui-checkbox">
			<label>SPAD</label>
			<input id="var2" name="checkbox" class="variety" value="SPAD" type="checkbox" >
		</div>
		<div class="mui-input-row mui-checkbox">
			<label>含水量%</label>
			<input id="var3" name="checkbox" class="variety" value="含水量" type="checkbox" >
		</div>
		<div class="mui-input-row mui-checkbox">
			<label>叶片重量(g/m^2)</label>
			<input id="var4" name="checkbox" class="variety" value="叶片重量" type="checkbox" >
		</div>
		<div class="mui-input-row mui-checkbox">
			<label>叶面积指数(LAI)</label>
			<input id="var5" name="checkbox" class="variety" value="叶面积指数" type="checkbox" >
		</div>
		<div class="mui-input-row mui-checkbox">
			<label>穗长(cm)</label>
			<input id="var6" name="checkbox" class="variety" value="穗长" type="checkbox" >
		</div>
	</div>
	<!--<button id="addVar" class="mui-btn mui-btn-green" style="width: 80px; margin-left: 20px; margin-top: 20px;margin-bottom: 20px;">添加品种</button>-->
	<button id='setOver' type="button" class="mui-btn mui-btn-block mui-btn-red">设定完成</button>

	<body>
		<script src="../../js/mui.min.js"></script>
		<script src="../../js/app.js" type="text/javascript" charset="utf-8"></script>
		<script>
			(function($, doc) {
				$.init();
				$.plusReady(function() {
					var varNum = 4;
					var varArr = [];
					var currentData;
					//点击设定完成，varArr数组中存储品种信息，$variety中存储varArr转字符换内容。
					document.getElementById('setOver').addEventListener('tap', function() {
						varArr = [];
						console.log("ok");
						var varData = document.querySelectorAll('.variety');
						for(var i = 0; i < varData.length; i++) {
							if(varData[i].checked){
								console.log(i+"--"+varData[i].value)
								varArr.push(varData[i].value);
							}
						}
						currentData = varArr;
						if(currentData) {
							app.pageInteraction.injection(currentData); //回传数据
						} else {
							mui.alert("至少添加一个采样指标", "添加指标");
						}
					});
				});
			}(mui, document));
		</script>
	</body>

</html>